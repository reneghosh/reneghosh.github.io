<!doctype html>
<html>
  <head>
    <script src="Intersection.js"></script>
  </head>
  <script>
    var x1 = 1,
        x2 = 30,
        y1 = 5,
        y2 = 70,
        xx1 = 15,
        xx2 = 30,
        yy1 = 70,
        yy2 = 5;
    function line_intersect(x1, y1, x2, y2, x3, y3, x4, y4){
        var ua, ub, denom = (y4 - y3)*(x2 - x1) - (x4 - x3)*(y2 - y1);
        if (denom == 0) {
            return null;
        }
        ua = ((x4 - x3)*(y1 - y3) - (y4 - y3)*(x1 - x3))/denom;
        ub = ((x2 - x1)*(y1 - y3) - (y2 - y1)*(x1 - x3))/denom;
        return {
            x: x1 + ua * (x2 - x1),
            y: y1 + ub * (y2 - y1),
            seg1: ua >= 0 && ua <= 1,
            seg2: ub >= 0 && ub <= 1
        };
    }
    console.log("calculating intersection");
    console.log(line_intersect(x1, y1, x2, y2, xx1, yy1, xx2, yy2));
  </script>
</html>
