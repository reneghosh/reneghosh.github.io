(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();console.log("ok ");const m=1e-5,u=1;function g(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,new window.AudioContext}function y(...t){for(const r of t)if(r<=0)return console.log(`oops ${r}`),!1;return!0}function v(t){const r=document.querySelector("#times").value,i=document.querySelector("#ramp").value,n=document.querySelector("#interval").value;if(console.log(document.querySelector("#play")?.innerHTML),console.log(r,i,n),r&&i&&n)try{const e=parseInt(r),o=parseInt(i),c=parseInt(n);if(console.log(e,o,c),y(e,c)){const d=new Date().getTime();console.log(`waiting ${o} seconds`);let a=o;s(t,660);const f=setInterval(()=>{if(a-=1,a<=1){clearInterval(f);let l=0;s(t,1e3);const p=setInterval(()=>{console.log((new Date().getTime()-d)/1e3),s(t,220),(l+1)%c==0&&s(t,440),l+=1,l>=e*c&&clearInterval(p)},1e3)}else s(t,660)},1e3)}}catch{}}function s(t,r){var i=t.currentTime,n=t.createOscillator(),e=t.createGain();n.connect(e),e.connect(t.destination),e.gain.setValueAtTime(e.gain.value,i),e.gain.exponentialRampToValueAtTime(m,i+u),n.onended=function(){e.disconnect(t.destination),n.disconnect(e)},n.type="sine",n.frequency.value=r,n.start(i),n.stop(i+u)}document.querySelector("#play")?.addEventListener("click",()=>v(g()));window.addEventListener("load",()=>{console.log("loaded")});
