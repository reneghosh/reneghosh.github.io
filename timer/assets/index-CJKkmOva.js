(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const w=1e-5,v=1,u=[];let d=!1;function h(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,new window.AudioContext}function I(...n){for(const o of n)if(o<=0)return console.log(`oops ${o}`),!1;return!0}function L(n){for(const t of u)clearInterval(t);const o=document.querySelector("#play");if(!o)return;if(d){o.textContent="Go",o?.classList.remove("stop"),d=!1;return}d=!0;const s=document.querySelector("#times").value,r=document.querySelector("#ramp").value,e=document.querySelector("#interval").value;if(o.textContent="Wait...",o?.classList.add("stop"),console.log(s,r,e),s&&r&&e)try{const t=parseInt(s),c=parseInt(r),a=parseInt(e);if(I(t,a)){const y=new Date().getTime();console.log(`waiting ${c} seconds`);let f=c;i(n,660);const p=setInterval(()=>{if(f-=1,f<=1){clearInterval(p);let l=0;i(n,1e3);const m=setInterval(()=>{if(console.log((new Date().getTime()-y)/1e3,l),i(n,220),o.textContent="Stop",(l+1)%a==0&&(l==t*a-1?(console.log("fone"),i(n,1e3)):i(n,560)),l+=1,l>=t*a){clearInterval(m);for(const g of u)clearInterval(g);d=!1,o.textContent="Go",o?.classList.remove("stop")}},1e3);u.push(m)}else i(n,660)},1e3);u.push(p)}}catch{}}function i(n,o){var s=n.currentTime,r=n.createOscillator(),e=n.createGain();r.connect(e),e.connect(n.destination),e.gain.setValueAtTime(e.gain.value,s),e.gain.exponentialRampToValueAtTime(w,s+v),r.onended=function(){e.disconnect(n.destination),r.disconnect(e)},r.type="sine",r.frequency.value=o,r.start(s),r.stop(s+v)}document.querySelector("#play")?.addEventListener("click",()=>L(h()));window.addEventListener("load",()=>{console.log("loaded")});
