(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const g=1e-5,y=1,u=[];let d=!1;function w(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,new window.AudioContext}function h(...o){for(const t of o)if(t<=0)return console.log(`oops ${t}`),!1;return!0}function L(o){for(const n of u)clearInterval(n);const t=document.querySelector("#play");if(!t)return;if(d){t.textContent="Go",t?.classList.remove("stop"),d=!1;return}d=!0;const s=document.querySelector("#times").value,r=document.querySelector("#ramp").value,e=document.querySelector("#interval").value;if(t.textContent="Wait...",t?.classList.add("stop"),console.log(s,r,e),s&&r&&e)try{const n=parseInt(s),i=parseInt(r),a=parseInt(e);if(h(n,a)){const v=new Date().getTime();console.log(`waiting ${i} seconds`);let f=i;c(o,660);const p=setInterval(()=>{if(f-=1,f<=1){clearInterval(p);let l=0;c(o,1e3);const m=setInterval(()=>{console.log((new Date().getTime()-v)/1e3),c(o,220),t.textContent="Stop",(l+1)%a==0&&c(o,560),l+=1,l>=n*a&&(clearInterval(m),t.textContent="Go",t?.classList.remove("stop"))},1e3);u.push(m)}else c(o,660)},1e3);u.push(p)}}catch{}}function c(o,t){var s=o.currentTime,r=o.createOscillator(),e=o.createGain();r.connect(e),e.connect(o.destination),e.gain.setValueAtTime(e.gain.value,s),e.gain.exponentialRampToValueAtTime(g,s+y),r.onended=function(){e.disconnect(o.destination),r.disconnect(e)},r.type="sine",r.frequency.value=t,r.start(s),r.stop(s+y)}document.querySelector("#play")?.addEventListener("click",()=>L(w()));window.addEventListener("load",()=>{console.log("loaded")});
